var czrapp=czrapp||{};!function(i,e){var n={initOnCzrReady:function(){if(void 0!==i.fn.masonry){var n=i(".masonry__wrapper"),o=i.Deferred(),t=e.base.matchMedia&&e.base.matchMedia(575),r=_.debounce(function(){n.masonry("layout")},200);1>n.length?e.errorLog("Masonry container does not exist in the DOM."):(n.bind("masonry-init.customizr",function(){o.resolve()}),n.imagesLoaded(function(){t||n.masonry({itemSelector:".grid-item",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},isOriginLeft:!e.isRTL}).on("smartload simple_load","img",function(e){i(this).closest(".grid-item").hasClass("full-image")||r()}),n.trigger("masonry-init.customizr")}),e.$_body.on("post-load",function(e,r){var a=function(e,o){if(o&&o.type&&"success"==o.type&&o.collection&&o.html)if(t)n.imagesLoaded(function(){n.trigger("masonry.customizr",o)});else{var r=i(o.collection.join(),n);r.length>0&&r.imagesLoaded(function(){n.masonry("appended",r).trigger("masonry.customizr",o),setTimeout(function(){i(window).trigger("scroll.infinity")},150)})}};"resolved"==o.state()?a(0,r):o.then(function(){a(0,r)})}))}}};e.methods.MasonryGrid={},i.extend(e.methods.MasonryGrid,n),e.Base.extend(e.methods.MasonryGrid),e.ready.done(function(){e.methods.MasonryGrid.initOnCzrReady()})}(jQuery,czrapp);